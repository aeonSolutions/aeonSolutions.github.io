<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width initial-scale=1" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  

  <title>Old-fashioned Podcasts</title>
  <meta name="description" content="<strong>How to listen to your favourite podcast without podcast app? These few lines of python might be able to help!</strong>

">
  <meta name="author" content="Laurens Geffert">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Old-fashioned Podcasts">
  <meta name="twitter:description" content="<strong>How to listen to your favourite podcast without podcast app? These few lines of python might be able to help!</strong>

">
  
  <meta name="twitter:creator" content="JanLauGe">
  
  <meta name="twitter:image" content="/images/favicons/favicon-194x194.png" />

  <meta property="og:type" content="article">
  <meta property="og:title" content="Old-fashioned Podcasts">
  <meta property="og:description" content="<strong>How to listen to your favourite podcast without podcast app? These few lines of python might be able to help!</strong>

">
  <meta property="og:image" content="/images/favicons/favicon-194x194.png" />

  <link rel="apple-touch-icon" sizes="57x57" href="images/favicons/apple-touch-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="images/favicons/apple-touch-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="images/favicons/apple-touch-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="images/favicons/apple-touch-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="images/favicons/apple-touch-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="images/favicons/apple-touch-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="images/favicons/apple-touch-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="images/favicons/apple-touch-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="images/favicons/apple-touch-icon-180x180.png">
  <link rel="icon" type="image/png" href="images/favicons/favicon-32x32.png" sizes="32x32">
  <link rel="icon" type="image/png" href="images/favicons/favicon-194x194.png" sizes="194x194">
  <link rel="icon" type="image/png" href="images/favicons/favicon-96x96.png" sizes="96x96">
  <link rel="icon" type="image/png" href="images/favicons/android-chrome-192x192.png" sizes="192x192">
  <link rel="icon" type="image/png" href="images/favicons/favicon-16x16.png" sizes="16x16">
  <link rel="manifest" href="images/favicons/manifest.json">
  <link rel="shortcut icon" href="images/favicons/favicon.ico">
  <meta name="msapplication-TileColor" content="#ffc40d">
  <meta name="msapplication-TileImage" content="images/favicons/mstile-144x144.png">
  <meta name="theme-color" content="#ffffff">

  <link rel="stylesheet" href="css/main.css?1539431935741611000">
  <link rel="canonical" href="http://localhost:4000/2017/old-fashioned-podcasts/">
  <link rel="alternate" type="application/rss+xml" title="Laurens Geffert" href="feed.xml">
</head>


  <body>
    <span class="mobile btn-mobile-menu">
  <i class="icon icon-list btn-mobile-menu__icon"></i>
  <i class="icon icon-x-circle btn-mobile-close__icon hidden"></i>
</span>

<header class="panel-cover" style="background-image: url(images/cover.jpg)">
  <div class="panel-main">

    <div class="panel-main__inner panel-inverted">
    <div class="panel-main__content">
        <a href="" title="link to home of Laurens Geffert">
          <img src="images/profile.png" class="user-image" alt="My Profile Photo">
          <h1 class="panel-cover__title panel-title">Laurens Geffert</h1>
        </a>
        <hr class="panel-cover__divider">
        <p class="panel-cover__description">Data Science Portfolio</p>
        <hr class="panel-cover__divider panel-cover__divider--secondary">

        <div class="navigation-wrapper">

          <nav class="cover-navigation cover-navigation--primary">

      		  <!-- Blog Button -->
      		  <ul class="navigation">
      			  <li class="navigation__item"><a href="/index" title="Blog posts" class="blog-button">Blog</a></li>
      		  </ul>

      		  <!-- About Button -->
      		  <ul class="navigation">
      			  <li class="navigation__item"><a href="/about" title="About the author" class="blog-button">About</a></li>
      		  </ul>

      		  <!-- Blog Roll -->
      		  <ul class="navigation">
      			  <li class="navigation__item"><a href="/links" title="Links to other sites" class="blog-button">Links</a></li>
      		  </ul>

          </nav>

          <nav class="cover-navigation navigation--social">
            <ul class="navigation">

              
                <!-- GitHub -->
                <li class="navigation__item">
                  <a href="https://www.github.com/JanLauGe" title="JanLauGe on GitHub" target="_blank">
                    <i class="icon icon-social-github"></i>
                    <span class="label">GitHub</span>
                  </a>
                </li>
              

  			      
                <!-- Twitter -->
                <li class="navigation__item">
                  <a href="http://twitter.com/JanLauGe" title="@JanLauGe on Twitter" target="_blank">
                    <i class="icon icon-social-twitter"></i>
                    <span class="label">Twitter</span>
                  </a>
                </li>
              

              
                <!-- LinkedIn -->
                <li class="navigation__item">
                  <a href="https://www.linkedin.com/in/laurensgeffert" title="laurensgeffert on LinkedIn" target="_blank">
                    <i class="icon icon-social-linkedin"></i>
                    <span class="label">LinkedIn</span>
                  </a>
                </li>
              

        			
        			  <!-- Stackoverflow -->
        			  <li class="navigation__item">
        				  <a href="https://stackoverflow.com/users/5457259/janlauge" title="janlauge on StackOverflow" target="_blank">
        				    <i class="icon icon-social-stack-overflow"></i>
        				    <span class="label">Stackoverflow</span>
        				  </a>
        			  </li>
              

              
        			  <!-- Kaggle -->
        			  <li class="navigation__item">
        				  <a href="https://www.kaggle.com/janlauge" title="janlauge on Kaggle" target="_blank">
        				    <i class="icon icon-trophy"></i>
        				    <span class="label">Kaggle</span>
        				  </a>
        			  </li>
              

        			
        			  <!-- Googlescholar -->
        			  <li class="navigation__item">
                  <a href="https://scholar.google.co.uk/citations?user=_aqDDYYAAAAJ&hl=en" title="Laurens Geffert on Google Scholar" target="_blank">
                    <i class="icon icon-social-google-plus"></i>
                    <span class="label">Google Scholar</span>
                  </a>
                </li>
              

              

              
                <!-- Email -->
                <li class="navigation__item">
                  <a href="mailto:laurensgeffert@gmail.com" title="Email laurensgeffert@gmail.com" target="_blank">
                    <i class="icon icon-mail"></i>
                    <span class="label">Email</span>
                  </a>
                </li>
              

              <!-- RSS -->
              <li class="navigation__item">
                <a href="feed.xml" title="Subscribe" target="_blank">
                  <i class="icon icon-rss"></i>
                  <span class="label">RSS</span>
                </a>
              </li>

            </ul>
          </nav>

        </div>

      </div>

    </div>

    <div class="panel-cover--overlay"></div>
  </div>
</header>


    <div class="content-wrapper">
      <div class="content-wrapper__inner">
        <article class="post-container post-container--single">
  <header class="post-header">
    <div class="post-meta">
      <time datetime="16 Sep 2017" class="post-meta__date date">16 Sep 2017</time>
      
      &#8226; <span class="post-meta__tags">on <a href="tags/#Coding">Coding</a> <a href="tags/#Python">Python</a> <a href="tags/#Tools">Tools</a> </span>
      
    </div>
    <h1 class="post-title">Old-fashioned Podcasts</h1>
  </header>

  <section class="post">
    <p><strong>How to listen to your favourite podcast without podcast app? These few lines of python might be able to help!</strong>
<!--more--></p>

<h3 id="the-problem">The Problem</h3>
<p>My brother recently introduced me to a new podcast, <a href="http://www.br-online.de/podcast/mp3-download/bayern2/mp3-download-podcast-radiowissen.shtml">RadioWissen</a>. I can thoroughly recommend it to all German speakers. If you do not speak German, you will have to stick with the Radio4 gems such as <a href="http://www.bbc.co.uk/programmes/p02nrss1/episodes/downloads">More or less, behind the stats</a>. Now, my brother is a “laggard” in terms of technological adaptation, and as a result he does not own a smart phone. Instead, he downloads podcasts as mp3 files to his desktop PC. He wanted to download all episodes of RadioWissen, but with over 2 000 episodes published to date, this would have been very tedious to do manually.</p>

<p><img src="http://localhost:4000/assets/podcasts_innovation.jpg" alt="adaptation of new technologies" /></p>

<p><em>Caricature by Tom Fishburne, taken from <a href="https://www.pinterest.co.uk/timeldridge/diffusion-of-innovations/">Pinterest</a></em></p>

<h3 id="the-solution">The Solution</h3>
<p>Enter XML files that are behind the popular RSS feed format. Like any major podcast programme, RadioWissen lists all episodes in an XML file on their website, including file names and meta data. This provides the perfect basis to iterate over and programmatically download episodes. Below is my approach in python. I am using the “BeautifulSoup” library to extract URLs and the “requests” library to retrieve the files.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>
<span class="kn">import</span> <span class="nn">requests</span>

<span class="k">def</span> <span class="nf">getFile</span><span class="p">(</span><span class="n">url</span><span class="p">):</span>
    <span class="s">'''Download file from URL, preserve file name'''</span>

    <span class="c"># Get name for local file</span>
    <span class="n">local_filename</span> <span class="o">=</span> <span class="n">url</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">'/'</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

    <span class="c"># Get and write content</span>
    <span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">stream</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">local_filename</span><span class="p">,</span> <span class="s">'wb'</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>
    <span class="c"># Print filename as confirmation</span>
    <span class="k">return</span> <span class="n">local_filename</span>


<span class="c"># Address of the xml doc containing all mp3 file names and locations</span>
<span class="n">xml_address</span> <span class="o">=</span> <span class="s">'http://www.br-online.de/podcast/radiowissen/cast.xml'</span>
<span class="c"># Get text and turn it from xml into BeautifulSoup</span>
<span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">xml_address</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>

<span class="c"># Download the latest episode</span>
<span class="n">episode</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s">'enclosure'</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">source_address</span> <span class="o">=</span> <span class="n">episode</span><span class="p">[</span><span class="s">'url'</span><span class="p">]</span>
<span class="n">getFile</span><span class="p">(</span><span class="n">source_address</span><span class="p">)</span>
</code></pre></div></div>

<p>You can also download all episodes using the code snippet below, but like I said, there are over 2 000 episodes published to date, so this will take several hours to complete!</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Download all episodes</span>
<span class="k">for</span> <span class="n">episode</span> <span class="ow">in</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s">'enclosure'</span><span class="p">):</span>

    <span class="n">Extract</span> <span class="n">url</span>
    <span class="n">source_address</span> <span class="o">=</span> <span class="n">episode</span><span class="p">[</span><span class="s">'url'</span><span class="p">]</span>
    <span class="k">print</span><span class="p">(</span><span class="s">'downloading'</span> <span class="o">+</span> <span class="n">source_address</span><span class="p">)</span>
    <span class="n">getFile</span><span class="p">(</span><span class="n">source_address</span><span class="p">)</span>
</code></pre></div></div>

<p>I am still developing my python skills, which are more basic than my R knowledge. I felt like this little task was the perfect practice exercise for me, and I would be grateful for any feedback, constructive criticism, and comments on my approach.</p>

  </section>
  <section id="disqus_thread"></section><!-- /#disqus_thread -->
</article>

<div id="disqus_thread"></div>
<script>
    /**
     *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
     *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
     */
    /*
    var disqus_config = function () {
        this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    */
    (function() {  // DON'T EDIT BELOW THIS LINE
        var d = document, s = d.createElement('script');

        s.src = 'https://janlauge.disqus.com/embed.js';

        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>



      </div>

      <footer class="footer">
  <span class="footer__copyright">&copy; 2018 Laurens Geffert. All rights reserved.</span>
</footer>

<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<script type="text/javascript" src="js/main.js?1539431935741611000"></script>


    </div>
  </body>
</html>